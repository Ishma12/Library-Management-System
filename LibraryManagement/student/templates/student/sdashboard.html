{% extends 'student/abase.html'%}
{%block content %}
<div class="charts">
    <div class="content-container">
        {% for book in books %}
        <div class="book-item">
            <img src="{{book.image.url}}" alt="Book Image" class="book-image">
            <div class="book-info searchable-content">

                <a href="{% url 'student-detailbook' book.id %}">
                    <h2 style="color:  #639c40;;">{{ book.book_name}}</h2>
                </a>
                <p><span class="bold">Book ISBN:</span> {{ book.isbn }}</p>
                <p><span class="bold">Book Name: </span>{{ book.book_name }}</p>
                <p><span class="bold">Author:</span> {{ book.author }}</p>
                <p><span class="bold">Subject: </span>{{ book.subject }}</p>
                {% if book.is_available%}
                <p><span class="bold">Status: </span>Available</p>
                {% else %}
                <p><span class="bold">Status:</span> <span style="color: #d84949;">Not Available</span></p>
                {% endif %}




            </div>

        </div>
        {% endfor %}
    </div>
</div>
<!-- script for search -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('searchInput');
        const bookItems = document.querySelectorAll('.book-item');

        searchInput.addEventListener('input', function () {
            const searchTerm = searchInput.value.trim().toLowerCase();

            bookItems.forEach(function (bookItem) {
                const contentText = bookItem.innerText.toLowerCase();
                const containsTerm = contentText.includes(searchTerm);

                bookItem.style.display = containsTerm ? '' : 'none';
            });
        });

        // Add this event listener to reset visibility when the input is cleared
        searchInput.addEventListener('input', function () {
            const searchTerm = searchInput.value.trim().toLowerCase();

            bookItems.forEach(function (bookItem) {
                if (searchTerm === '') {
                    bookItem.style.display = ''; // Reset visibility
                } else {
                    const contentText = bookItem.innerText.toLowerCase();
                    const containsTerm = contentText.includes(searchTerm);

                    bookItem.style.display = containsTerm ? '' : 'none';
                }
            });
        });
    });
</script>
{% endblock %}
{% load static %}
{% block js%}
<script src="{% static 'employee/profile.js' %}"></script>

{%endblock%}